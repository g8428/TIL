# Database

1. 설치
2. 접속
3. 데이터베이스생성
4. **테이블구축**
5. **쿼리입력**
6. **쿼리 수정/삭제**
7. **쿼리 조회**
8. DB 응용프로그램 개발 / DB 연동 웹서비스 / DB 운영관리(DBA)



# 1. Database 개론

## DBMS란?

- DataBase Management System
- 데이터를 저장하고 관리하는 소프트웨어 ( SQL Server, Oracle, MySQL 등)
- 데이터베이스란 하나의 캐비닛(서랍장)
- 종이/서류를 보관하는 대신, 자료/데이터를 보관하기 위해
- DBMS s/w 내에서 목적에 따라 여러개의 데이터를 만들 수도 있다.



## DBMS에서 데이터베이스란?

- 데이터를 저장하는 저장소

- **고유의 이름**을 가져야 한다

- 구체적으로 **테이블 구조**의 데이터가 저장된다 / 보통 원통모양 아이콘

    - 테이블은 열과 행의 구조로 이루어진 자료
    - 각 환자 1명의 여러가지 정보를 '표'형태로 쉽게 정리할 수 있다.
    - 캐비닛이 DB라면 각 서랍 칸은 테이블

    ![image-20220306171653497](220306_TIL(SQLD).assets/image-20220306171653497.png)![image-20220306171755139](220306_TIL(SQLD).assets/image-20220306171755139.png)

    행을 레코드(record)라고도 부른다. 하나의 실질적인 데이터를 의미

    데이터가 몇개인지는 레코드가 몇 개인지를 묻는 것

    

    # 관계형 데이터베이스 VS 집합

    ## 관계형 데이터베이스

    > 현재 주류인 데이터 모델
    >
    > > SQL server, oracle mysql 등 테이블기반으로 누구나 쉽게 이해할 수 있는 개념
    > >
    > > 여러 테이블 간 데이터 조작을 **집합의 개념**으로 취급

    ### 집합연산자

    - 일반 집합 연산자 : 관계형데이터베이스 고유 연산자

    - 합집합(union) : 프로젝션(projection)
    - 차집합(differense) : 셀렉션(selection)
    - 교집합(intersection) : 조인(join)
    - 곱집합(cartesian product) : 디비전(division)

### 합집합

- 두 개의 테이블에 있는 모든 행을 출력
- 중복값은 하나로 표현된다(교집합 부분)(left | right)

### 차집합

- 두 개의 테이블 중 어느 한 곳에만 들어있는 데이터 출력
- 어느 테이블을 기준으로 하느냐(left | right)

### 교집합

- 두 테이블에 공통으로 들어있는 데이터

### 곱집합 (cartesian product)

- 두 테이블을 조합해 만들 수 있는 모든 경우의 수 출력

[수박 , 500] [ 참외, 200] X [A1, 프랑스] [A2, 중국 ]

수박 - A1 / 수박 - A2 / 참외 - A1 / 참외 - A2

---

### 프로젝션

- 특정 컬럼 출력 df['column']

### 셀렉션

- 특정 행을 출력 df.iloc[행,열] / df[:]



# 기본키(Primary Key)

- 고유 식별값을 가지는 **열**을 기본키라고 부른다. 중복불가

- 특정 열을 기본키로 지정할 수 있다

    -  예) 상품코드, 해쉬값 등 

    - 특정 레코드를 빨리 찾을 때 도움이 된다
        - 기본키 열의 특정값으로 찾으면 그 레코드만 등장

- 기본 키를 지정함으로써 '제약'을 걸 수 있게 된다.
    - 중복값, NULL 값이 허용되지 않게 '제약'을 걸게 되는 것

# 외래키(Foreign Key)

- SQL DB는 특정 열을 외래키로 지정할 수 있다

    - 외래키는 테이블의 특정 열이 다른 테이블의 열(보통 다른 테이블의 기본키)을 참조하는 것

        - 참조한다의 뜻?

        > 외래키의 값이 본 기본키의 특정 레코드를 가리킨다(의미한다)
        >
        > 이 외래키 값이 무슨 뜻인지 확인이 가능해야 함
        >
        > 외래키는 참조한 열이 갖고 있는 값만 가질 수 있음

- 외래키를 지정하면 보통 부모/자식 테이블이라고 부른다

- 외래키의 주 목적은 두 테이블의 공통자료를 확실하게 이어주기 위함

    - foreign 뜻 : 외부로부터 온

- 외래키에 없는 값을 입력하려하면 에러 (참조 무결성 위배)

    - 관계형 데이터베이스의 의의
        - 이런 여러 테이블의 데이터가 기본키, 외래키로 관계가 맺어짐